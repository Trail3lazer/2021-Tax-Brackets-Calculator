<div *ngIf="vm$ | async as vm" class="container">
    <h1>Tax Bracket Calculator</h1>
    <div class="row mb-3">
        <button (click)="changeStatus('joint')" class="btn btn-outline-primary col-4 col-lg-3 ms-3 me-5" [attr.active]="vm.status === 'joint'">Filing Jointly</button>
        <button (click)="changeStatus('single')" class="btn btn-outline-primary col-4 col-lg-3" [attr.active]="vm.status === 'single'">Filing Single</button>
    </div>
    <h2 class="mb-3">
        Primary Income: {{vm.incomes.primary | currency}}
        <br/>
        <ng-container *ngIf="vm.status === 'joint'">Secondary Income {{vm.incomes.secondary | currency}}</ng-container>
    </h2>
    <app-income-form [status]="vm.status"></app-income-form>
    
    <h2>
        Taxes: {{vm.totals | currency:"USD"}}
    </h2>
</div>